<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Disher Art — Brooch Collection</title>
  <style>
    :root{
      --maxw:1100px;
      --bg:#fdfdfc;
      --fg:#111;
      --card-bg:#fff;
      --accent:#b8860b;
      --secondary-bg:#f7f3ef;
      --notice-bg:#fff7e6;
      --notice-fg:#333;
      font-family:"Noto Serif JP", "Hiragino Kaku Gothic ProN", serif;
    }
    /* 基本レイアウト */
    html,body{height:100%}
    body{margin:0;background:var(--bg);color:var(--fg);display:flex;flex-direction:column;align-items:center;transition:.25s}
    header{width:100%;background:linear-gradient(90deg,#fff,var(--secondary-bg));box-shadow:0 2px 6px rgba(0,0,0,.06)}
    .wrap{max-width:var(--maxw);width:100%;padding:28px}
    h1{margin:0;font-size:28px;font-weight:700;color:var(--accent);letter-spacing:1px}
    .intro{display:flex;gap:16px;align-items:center;justify-content:space-between;flex-wrap:wrap}
    .notice{margin-top:10px;padding:16px;background:var(--notice-bg);color:var(--notice-fg);border:1px solid #f0d9a9;border-radius:8px;font-size:15px;line-height:1.6}
    .grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:24px;margin-top:28px;width:100%}
    .card{background:var(--card-bg);border-radius:16px;padding:16px;box-shadow:0 8px 24px rgba(0,0,0,.08);display:flex;flex-direction:column;transition:.25s}
    .card:hover{transform:translateY(-4px);box-shadow:0 12px 28px rgba(0,0,0,.12)}
    .thumb{width:100%;height:220px;border-radius:12px;object-fit:cover}
    .meta{margin-top:14px;display:flex;justify-content:space-between;align-items:center}
    .price{font-weight:700;color:var(--accent)}
    button{background:var(--accent);color:#fff;border:0;padding:8px 14px;border-radius:8px;cursor:pointer;transition:.18s;white-space:nowrap}
    button:hover{opacity:0.95}
    button.secondary{background:transparent;color:var(--fg);border:1px solid #ccc;padding:6px 10px}
    footer{width:100%;padding:20px 0;text-align:center;color:#666;margin-top:40px;border-top:1px solid #eee;font-size:14px}

    /* モーダル（詳細） */
    .modal{position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:rgba(0,0,0,.6);z-index:60}
    .modal.open{display:flex}
    .modal-inner{background:var(--card-bg);padding:18px;border-radius:12px;max-width:1000px;width:94%;display:grid;grid-template-columns:1fr 1fr;gap:14px;color:var(--fg)}
    .modal-left{display:flex;flex-direction:column;gap:10px}
    .modal-main{position:relative}
    .modal-main img{width:100%;height:420px;object-fit:contain;border-radius:8px;background:#fff}
    .modal-thumb-row{display:flex;gap:8px;flex-wrap:wrap;margin-top:8px}
    .modal-thumb-row img{width:64px;height:64px;object-fit:cover;border-radius:6px;cursor:pointer;border:2px solid transparent}
    .modal-thumb-row img.active{border-color:var(--accent)}
    .nav-arrow{position:absolute;top:50%;transform:translateY(-50%);background:rgba(0,0,0,.45);color:#fff;border:none;padding:8px 10px;border-radius:6px;cursor:pointer}
    .nav-left{left:8px}
    .nav-right{right:8px}

    .modal-right h2{margin:0 0 8px;color:var(--accent)}
    .modal-right .desc{color:#444;font-size:15px;line-height:1.6}
    .modal-right .price{margin-top:10px;font-weight:700}
    .modal-right form{display:flex;flex-direction:column;gap:8px;margin-top:12px}
    input[type="text"],input[type="email"],textarea{padding:10px;border-radius:6px;border:1px solid #ccc;font-family:inherit}
    textarea{min-height:90px;resize:vertical}

    /* サムネイルのレスポンシブ調整 */
    @media(max-width:900px){ .modal-inner{grid-template-columns:1fr} .modal-main img{height:320px} }

    /* ダークモード */
    body.dark{--bg:#111;--fg:#fdfdfc;--card-bg:#1e1e1e;--accent:#d4af37;--secondary-bg:#333;--notice-bg:#222;--notice-fg:#fdfdfc}
    /* ダーク時の .notice 読めるようにする */
    body.dark .notice{background:var(--notice-bg);color:var(--notice-fg);border:1px solid #444}
    /* ダーク時の modal 内も読みやすく */
    body.dark .modal-inner{background:var(--card-bg);color:var(--fg)}
    body.dark .modal-thumb-row img{background:#222}

    a{text-decoration:none;color:var(--accent)}
    a:hover{text-decoration:underline}
  </style>
</head>
<body>
  <header>
    <div class="wrap intro">
      <div>
        <h1>Disher Art</h1>
        <p style="margin:6px 0 0;color:var(--fg)">手作りブローチのコレクション。全て一点物です。</p>
      </div>
      <div style="display:flex;gap:10px;align-items:center">
        <button id="toggle-theme" class="secondary">🌙 Dark Mode</button>
        <a href="#about"><button class="secondary">作者について</button></a>
        <a href="premium.html"><button class="secondary">💎 プレミアムブローチ</button></a>
      </div>
    </div>
  </header>

  <main class="wrap">
    <section class="notice">
      <strong>【ご注文方法】</strong><br>
      各商品ページのフォームに <b>お名前</b> と <b>メールアドレス</b> をご記入ください。<br>
      後ほどこちらから <b>PayPayでのお支払い方法</b> をご案内し、購入手続きに進んでいただきます。
    </section>

    <section>
      <div class="grid" id="products"></div>
    </section>

    <section id="about" style="margin-top:50px;padding:30px;background:var(--secondary-bg);border-radius:12px">
      <h2 style="color:var(--accent)">作者について</h2>
      <p>
        <strong>Disher Art</strong> による手作りジュエリーブランドです。  
        細部にこだわり、一つひとつの作品に物語を込めています。  
        <br><br>
        Instagram: <a href="https://instagram.com/" target="_blank">@DisherArt</a>
      </p>
    </section>
  </main>

  <!-- 詳細モーダル（共通） -->
  <div class="modal" id="modal">
    <div class="modal-inner" role="dialog" aria-modal="true">
      <div class="modal-left">
        <div class="modal-main">
          <button class="nav-arrow nav-left" id="prevBtn" aria-label="前の画像">&lt;</button>
          <img id="modal-main-img" src="" alt="">
          <button class="nav-arrow nav-right" id="nextBtn" aria-label="次の画像">&gt;</button>
        </div>
        <div class="modal-thumb-row" id="modal-thumbs"></div>
      </div>

      <div class="modal-right">
        <h2 id="modal-title"></h2>
        <p class="desc" id="modal-desc"></p>
        <div class="price" id="modal-price"></div>

        <form id="order-form">
          <input type="text" name="name" placeholder="お名前" required>
          <input type="email" name="email" placeholder="メールアドレス" required>
          <input type="text" name="address" placeholder="郵便番号・住所" required>
          <textarea name="note" placeholder="ご要望など（任意）"></textarea>

          <div style="display:flex;gap:8px;margin-top:6px">
            <button type="submit">注文を送信</button>
            <button type="button" class="secondary" id="close">閉じる</button>
          </div>
        </form>
      </div>
    </div>
  </div>

  <footer>
    © Disher Art — contact: <a href="mailto:mkuw16@gmail.com">mkuw16@gmail.com</a>
  </footer>

  <script>
    /* === 商品データ ===
       - images 配列に複数の画像パスを入れてください（なければ img を1枚使います）
       - 例: images: ["images/IMG_6237.JPG","images/IMG_6237-2.JPG","images/IMG_6237-3.JPG"]
    */
    const products = [
      {
        id:1,
        title:"Elegant Rose Brooch",
        price:2500,
        desc:"バラをモチーフにした華やかなブローチ。淡いピンクの輝きが特徴です。",
        img:"images/IMG_6237.JPG",
        images:["images/IMG_6237.JPG", "images/IMG_6238.JPG", "images/IMG_6239.JPG"]
      },
      {
        id:2,
        title:"Crystal Leaf Brooch",
        price:3200,
        desc:"キラキラ輝く葉っぱのデザイン。自然を感じさせる優しい印象です。",
        img:"images/IMG_6238.JPG",
        images:["images/IMG_6238.JPG"]
      },
      {
        id:3,
        title:"Pearl Flower Brooch",
        price:2800,
        desc:"パールを中心にあしらった可憐なお花デザイン。上品さを演出します。",
        img:"images/IMG_6239.JPG",
        images:["images/IMG_6239.JPG"]
      },
      {
        id:4,
        title:"Golden Ribbon Brooch",
        price:3000,
        desc:"リボンをモチーフにしたゴールドカラー。華やかさをプラス。",
        img:"images/IMG_6240.JPG",
        images:["images/IMG_6240.JPG"]
      },
      {
        id:5,
        title:"Butterfly Charm Brooch",
        price:2600,
        desc:"蝶々のモチーフで可愛らしく。春のお出かけにぴったりです。",
        img:"images/IMG_6241.JPG",
        images:["images/IMG_6241.JPG"]
      },
      {
        id:6,
        title:"Vintage Cameo Brooch",
        price:3500,
        desc:"クラシックなカメオデザイン。アンティーク好きにおすすめです。",
        img:"images/IMG_6242.JPG",
        images:["images/IMG_6242.JPG"]
      },
      {
        id:7,
        title:"Star Light Brooch",
        price:2900,
        desc:"星型の輝きをイメージ。夜空のように神秘的です。",
        img:"images/IMG_6243.JPG",
        images:["images/IMG_6243.JPG"]
      },
      {
        id:8,
        title:"Classic Heart Brooch",
        price:2700,
        desc:"ハート型の定番デザイン。ギフトにも最適です。",
        img:"images/IMG_6244.JPG",
        images:["images/IMG_6244.JPG"]
      },
      {
        id:9,
        title:"Snowflake Brooch",
        price:3100,
        desc:"雪の結晶をデザイン。冬の季節感を楽しめます。",
        img:"images/IMG_6245.JPG",
        images:["images/IMG_6245.JPG"]
      },
      {
        id:10,
        title:"Ocean Wave Brooch",
        price:2400,
        desc:"波をイメージした爽やかなデザイン。夏に映えます。",
        img:"images/IMG_6246.JPG",
        images:["images/IMG_6246.JPG"]
      },
      {
        id:11,
        title:"Modern Art Brooch",
        price:3300,
        desc:"モダンな抽象デザイン。個性を引き立てます。",
        img:"images/IMG_6247.JPG",
        images:["images/IMG_6247.JPG"]
      }
    ];

    /* --- DOM 要素 --- */
    const productsEl = document.getElementById('products');
    const modal = document.getElementById('modal');
    const modalMainImg = document.getElementById('modal-main-img');
    const modalThumbs = document.getElementById('modal-thumbs');
    const modalTitle = document.getElementById('modal-title');
    const modalDesc = document.getElementById('modal-desc');
    const modalPrice = document.getElementById('modal-price');
    const prevBtn = document.getElementById('prevBtn');
    const nextBtn = document.getElementById('nextBtn');
    const closeBtn = document.getElementById('close');
    const orderForm = document.getElementById('order-form');

    /* カレント画像インデックス（モーダル内） */
    let currentImages = [];
    let currentIndex = 0;

    /* 商品リスト描画 */
    function renderProducts(){
      productsEl.innerHTML = '';
      products.forEach(p=>{
        const card = document.createElement('div');
        card.className = 'card';
        card.innerHTML = `
          <img class="thumb" src="${p.img}" alt="${p.title}">
          <div class="meta">
            <div>
              <div style="font-weight:600">${p.title}</div>
              <div style="font-size:13px;color:#666">${p.desc.substring(0,40)}${p.desc.length>40?'...':''}</div>
            </div>
            <div style="text-align:right">
              <div class="price">¥${p.price}</div>
              <div style="margin-top:8px">
                <button data-id="${p.id}" class="open">詳細</button>
              </div>
            </div>
          </div>
        `;
        productsEl.appendChild(card);
      });
    }

    /* モーダルを開いて画像ギャラリーをセット */
    function openModal(id){
      const p = products.find(x=>x.id===id);
      if(!p) return;
      // 画像配列を決定（images があればそれ、それ以外は img を1要素とする）
      currentImages = Array.isArray(p.images) && p.images.length ? p.images.slice() : [p.img];
      currentIndex = 0;
      // メイン画像セット
      modalMainImg.src = currentImages[currentIndex];
      modalMainImg.alt = p.title;
      // サムネイルを作る
      modalThumbs.innerHTML = '';
      currentImages.forEach((src, i)=>{
        const t = document.createElement('img');
        t.src = src;
        t.alt = p.title + ' image ' + (i+1);
        t.dataset.index = i;
        if(i===currentIndex) t.classList.add('active');
        t.addEventListener('click', ()=> {
          setCurrentIndex(i);
        });
        modalThumbs.appendChild(t);
      });
      // テキストセット
      modalTitle.textContent = p.title;
      modalDesc.textContent = p.desc;
      modalPrice.textContent = '¥' + p.price;
      // 表示
      modal.classList.add('open');
    }

    function setCurrentIndex(i){
      if(i<0) i = currentImages.length - 1;
      if(i>=currentImages.length) i = 0;
      currentIndex = i;
      modalMainImg.src = currentImages[currentIndex];
      // active サムネイル切替
      [...modalThumbs.children].forEach((el, idx)=>{
        el.classList.toggle('active', idx === currentIndex);
      });
    }

    prevBtn.addEventListener('click', ()=> setCurrentIndex(currentIndex - 1));
    nextBtn.addEventListener('click', ()=> setCurrentIndex(currentIndex + 1));

    // モーダル外クリックで閉じる
    modal.addEventListener('click', (e)=>{
      if(e.target === modal) modal.classList.remove('open');
    });
    closeBtn.addEventListener('click', ()=> modal.classList.remove('open'));

    // キーボード操作（Esc, ←, →）
    document.addEventListener('keydown', (e)=>{
      if(!modal.classList.contains('open')) return;
      if(e.key === 'Escape') modal.classList.remove('open');
      if(e.key === 'ArrowLeft') setCurrentIndex(currentIndex - 1);
      if(e.key === 'ArrowRight') setCurrentIndex(currentIndex + 1);
    });

    // open ボタン（詳細）クリック
    document.addEventListener('click', (e)=>{
      if(e.target.matches('.open')){
        const id = +e.target.dataset.id;
        openModal(id);
      }
    });

    /* 送信（mailto） */
    orderForm.addEventListener('submit', e=>{
      e.preventDefault();
      const data = new FormData(orderForm);
      const msg = `
この度はご購入を検討いただきありがとうございます。
下記の名前、メールアドレス、住所が間違っていないかご確認の上、送信願います。
支払い方法のメールを返信させていただきます。

【商品名】 ${modalTitle.textContent}
【お名前】 ${data.get('name')}
【メール】 ${data.get('email')}
【住所】 ${data.get('address') || ''}
【ご要望等】 ${data.get('note') || ''}
`;
      const mailtoLink = `mailto:mkuw16@gmail.com?subject=${encodeURIComponent('ブローチ注文依頼書')}&body=${encodeURIComponent(msg)}`;
      // mailto を起動（ユーザーのメールアプリで確認→送信）
      window.location.href = mailtoLink;
    });

    /* ダークモード切替 */
    document.getElementById('toggle-theme').addEventListener('click', ()=>{
      document.body.classList.toggle('dark');
    });

    // 初期描画
    renderProducts();
  </script>
</body>
</html>
